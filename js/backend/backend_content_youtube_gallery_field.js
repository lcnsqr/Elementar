$(function(){$("a.youtube_add").live("click",function(b){b.preventDefault();var a=$(this).parents(".youtube_gallery_field").first().children(".youtube_parent:visible");var c=$(".youtube_item_template").first().clone();$(c).removeClass("youtube_item_template");$(c).css("display","none");$(a).prepend(c);$(c).show("fast","easeInSine")});$("a.youtube_add_up").live("click",function(a){a.preventDefault();var b=$(".youtube_item_template").first().clone();$(b).removeClass("youtube_item_template");$(b).css("display","none");$(this).parents("div.youtube_item").first().before(b);$(b).show("fast","easeInSine")});$("a.youtube_add_down").live("click",function(a){a.preventDefault();var b=$(".youtube_item_template").first().clone();$(b).removeClass("youtube_item_template");$(b).css("display","none");$(this).parents("div.youtube_item").first().after(b);$(b).show("fast","easeInSine")});$("a.youtube_delete").live("click",function(b){b.preventDefault();var c=$(this).parents("div.youtube_item").first();var a=$(this).parents("div.youtube_parent").first();if($(a).find("div.youtube_item").length==1&&$(this).parents(".youtube_gallery_field").first().find("div.youtube_item:visible").length>1){$(a).hide("slow",function(){$(this).remove()})}else{if($(this).parents(".youtube_gallery_field").first().find("div.youtube_item:visible").length>1){$(c).hide("slow",function(){$(this).remove()})}}});$("a.youtube_up").live("click",function(c){c.preventDefault();var b=$(this).parents("div.youtube_item").first();var d=$(b).prev("div.youtube_item");if(d.length==1){var a=$(b).detach();$(d).before(a)}});$("a.youtube_down").live("click",function(c){c.preventDefault();var b=$(this).parents("div.youtube_item").first();var d=$(b).next("div.youtube_item");if(d.length==1){var a=$(b).detach();$(d).after(a)}})});$.fn.extend({prepareYoutubeGalleryField:function(){var a=new Array();$(this).children(".youtube_parent:not(.youtube_parent_template)").each(function(){$(this).children(".youtube_item:not(.youtube_item_template)").each(function(){var b=$(this).find('input[name="url"]').val();var c=$(this).find('input[name="description"]').val();if(b!=""){a.push({url:b,description:c})}})});$(this).find("input.youtube_gallery_actual_field").val($.toJSON(a))}});